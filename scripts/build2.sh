#!/bin/bash
set -e
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"

# based on:
# https://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu
# https://github.com/lutris/ffmpeg-nvenc
# https://github.com/ilyaevseev/ffmpeg-build
# https://askubuntu.com/questions/778100/how-to-install-compile-nvenc-in-ubuntu

echo "============================================================="
echo "  installing dependencies"
echo "============================================================="
source _deps.sh

echo "============================================================="
echo "  nasm"
echo "============================================================="
cd "${DIR}"
source _nasm.sh

echo "============================================================="
echo "  yasm"
echo "============================================================="
cd "${DIR}"
source _yasm.sh

echo "============================================================="
echo "  x264"
echo "============================================================="
cd "${DIR}"
source _x264.sh

echo "============================================================="
echo "  x265"
echo "============================================================="
cd "${DIR}"
source _x265.sh

echo "============================================================="
echo "  libvpx"
echo "============================================================="
cd "${DIR}"
source _libvpx.sh

echo "============================================================="
echo "  libfdk-aac"
echo "============================================================="
cd "${DIR}"
source _libfdk-aac.sh

echo "============================================================="
echo "  MP3 Lame"
echo "============================================================="
cd "${DIR}"
source _lame.sh

echo "============================================================="
echo "  lib Opus"
echo "============================================================="
cd "${DIR}"
source _opus.sh

echo "============================================================="
echo "  lib aom"
echo "============================================================="
cd "${DIR}"
source _aom.sh

echo "============================================================="
echo "  FFmpeg"
echo "============================================================="
#source _ffmpeg.sh



# TODO: libogg, libvorbis libass
#

#installCUDASDK
#installNvidiaSDK
#



#compileLibAom



#compileFfmpeg




#    InstallNvCodecIncludes





#    BuildFFmpeg



echo "============================================================="
echo "  Done"
echo "============================================================="